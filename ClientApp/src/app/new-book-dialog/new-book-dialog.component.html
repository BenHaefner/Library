<form [formGroup]="bookForm" (ngSubmit)="onOkClick()">

  <mat-form-field>
    <input matInput placeholder="Title" type="text" formControlName="title" required>
  </mat-form-field>

  <div formArrayName="authors" class="author">
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>
          Authors
        </mat-panel-title>
      </mat-expansion-panel-header>
      <div *ngFor="let author of authors.controls; let i=index">
        <mat-form-field>
          <input matInput placeholder="Author" type="text" [formControlName]="i" [readonly]="readonly">
        </mat-form-field>
        <div class="removeAuthor" *ngIf="authors.controls.length!=1">
          <button mat-icon-button type="button" (click)="removeAuthor(i)">
            <mat-icon>remove</mat-icon>
          </button>
        </div>
        <div class="addAuthor" *ngIf="i==authors.controls.length-1">
          <button mat-icon-button type="button" (click)="addAuthor()">
            <mat-icon>add</mat-icon>
          </button>
        </div>
      </div>
    </mat-expansion-panel>
  </div>

  <mat-form-field>
    <input matInput placeholder="ISBN" type="text" formControlName="isbn">
  </mat-form-field>

  <mat-form-field>
    <input matInput placeholder="Image URL" type="text" formControlName="thumbnail">
  </mat-form-field>

  <button mat-button type="button" (click)="onNvmClick()">Nevermind</button>
  <button mat-button cdkFocusInitial>Ok</button>

</form>